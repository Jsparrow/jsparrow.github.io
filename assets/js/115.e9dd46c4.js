(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{497:function(e,t,s){"use strict";s.r(t);var a=s(45),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"remove-unused-fields"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remove-unused-fields"}},[e._v("#")]),e._v(" Remove Unused Fields")]),e._v(" "),s("h2",{attrs:{id:"description"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#description"}},[e._v("#")]),e._v(" Description")]),e._v(" "),s("p",[e._v("This rule finds the field declarations that are never used and removes them.\nReassignments in the same or in external Java files are not counted as active usages.\nA configuration wizard allows users to choose whether to remove fields whose initializers may cause side effects (see "),s("a",{attrs:{href:"#configuration"}},[e._v("Configuration")]),e._v(").\nAny annotation except for "),s("code",[e._v("@Deprecated")]),e._v(" and "),s("code",[e._v("@SuppressWarnings")]),e._v(" prevents the field declaration from being considered as unused.")]),e._v(" "),s("h3",{attrs:{id:"avoiding-side-effects"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#avoiding-side-effects"}},[e._v("#")]),e._v(" Avoiding Side Effects")]),e._v(" "),s("p",[e._v("In general, any method or constructor invocation may cause side effects that may be necessary for the correct behavior of the program execution.\nTherefore, the initializers in field declarations or in the right-hand sides of field reassignments that may cause side effects are preventing the field from being removed by this rule."),s("br"),e._v("\nSome exceptions are made for some popular Java builtin constructors and methods. For example:")]),e._v(" "),s("ul",[s("li",[e._v("constructors of collections, maps, sets, and other popular Java classes, e.g., "),s("code",[e._v("new ArrayList<>()")]),e._v(", "),s("code",[e._v("new HashMap<>()")]),e._v(", "),s("code",[e._v("new Object()")]),e._v(", etc...")]),e._v(" "),s("li",[e._v("methods for retrieving information about a collection without modifying it, e.g., "),s("code",[e._v("contains()")]),e._v(", "),s("code",[e._v("isEmpty()")]),e._v(", "),s("code",[e._v("size()")]),e._v(", "),s("code",[e._v("lastIndexOf()")]),e._v(", etc...")]),e._v(" "),s("li",[e._v("factory methods for collections, e.g., "),s("code",[e._v("List.of()")]),e._v(", "),s("code",[e._v("Set.of()")]),e._v(", etc...")])]),e._v(" "),s("h2",{attrs:{id:"benefits"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#benefits"}},[e._v("#")]),e._v(" Benefits")]),e._v(" "),s("p",[e._v("Some benefits of removing unused code, and in particular unused fields, are:")]),e._v(" "),s("ul",[s("li",[e._v("Reduces maintenance costs.")]),e._v(" "),s("li",[e._v("Reduces the compilation time.")]),e._v(" "),s("li",[e._v("May potentially eliminate unnecessary computations for unwanted side effects.")])]),e._v(" "),s("h2",{attrs:{id:"configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[e._v("#")]),e._v(" Configuration")]),e._v(" "),s("p",[e._v("This rule, together with "),s("RouterLink",{attrs:{to:"/rules/remove-unused-methods.html"}},[e._v("Remove Unused Methods")]),e._v(" and "),s("RouterLink",{attrs:{to:"/rules/remove-unused-types.html"}},[e._v("Remove Unused Types")]),e._v(", provides a dedicated configuration wizard that allows users to:")],1),e._v(" "),s("ul",[s("li",[e._v("choose which fields to remove based on their access modifier. By default only the "),s("code",[e._v("private")]),e._v(" modifier is selected.")]),e._v(" "),s("li",[e._v("choose the search scope for field references. It can either be set to "),s("code",[e._v("Project")]),e._v(" or "),s("code",[e._v("Workspace")]),e._v(".")]),e._v(" "),s("li",[e._v("choose whether to deliberately remove the fields whose initializers may cause side effects. By default this option is not checked."),s("br"),e._v("\nUsers are advised to be cautions with this option as the side effects may be necessary for a correct behavior of the program execution.")])]),e._v(" "),s("p",[e._v("The following is a shot of the configuration wizard:")]),e._v(" "),s("p",[s("a",{attrs:{href:"/img/eclipse/remove_unused_code_wizard_003.png"}},[s("img",{attrs:{src:"/img/eclipse/remove_unused_code_wizard_003.png",alt:"Remove unused code wizard"}})])]),e._v(" "),s("p",[e._v("When clicking Finish, jSparrow will search for unused fields (as described above), find and analyse their references, and compute the code changes.\nThe changes are shown in a Dif-View and users can choose to accept the computed changes for each field:")]),e._v(" "),s("p",[s("a",{attrs:{href:"/img/eclipse/remove_unused_code_preview_wizard.png"}},[s("img",{attrs:{src:"/img/eclipse/remove_unused_code_preview_wizard.png",alt:"Remove unused code preview wizard"}})])]),e._v(" "),s("h2",{attrs:{id:"tags"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tags"}},[e._v("#")]),e._v(" Tags")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Tags")]),e._v(" "),s("TagLinks")],1),e._v(" "),s("h2",{attrs:{id:"code-changes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#code-changes"}},[e._v("#")]),e._v(" Code Changes")]),e._v(" "),s("p",[s("strong",[e._v("Pre")])]),e._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("UnusedFieldsSample")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\t\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("String")]),e._v(" publicUsedField "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("String")]),e._v(" publicUnusedReassignedField "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\t\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("private")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("String")]),e._v(" privateUsedField "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\t\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("void")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("foo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\t\tpublicUnusedReassignedField "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("BlackHole")]),e._v(" blackHole "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("BlackHole")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\t\tblackHole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("publicUsedField"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\t\tblackHole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("privateUsedField"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n")])])]),s("p",[s("strong",[e._v("Post")])]),e._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("UnusedFieldsSample")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\t\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("String")]),e._v(" publicUsedField "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\t\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("private")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("String")]),e._v(" privateUsedField "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\t\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("void")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("foo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("BlackHole")]),e._v(" blackHole "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("BlackHole")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\t\tblackHole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("publicUsedField"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\t\tblackHole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("privateUsedField"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("h2",{attrs:{id:"limitations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#limitations"}},[e._v("#")]),e._v(" Limitations")]),e._v(" "),s("p",[e._v("At most one field at a time can be removed from the field declarations with multiple declaration fragments.")]),e._v(" "),s("VersionNotice"),e._v(" "),s("h2",{attrs:{id:"properties"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#properties"}},[e._v("#")]),e._v(" Properties")]),e._v(" "),s("RuleProperties")],1)}),[],!1,null,null,null);t.default=n.exports}}]);