---
title: Use Arrays Stream
ruleId: UseArraysStream
since: 3.18.0
minJavaVersion: 8
remediationCost: 5
links:
    - displayName: "S3631"
      url: "https://sonarcloud.io/organizations/default/rules?languages=java&open=java%3AS3631&q=S3631"
    
description:
    Rule description.
tags: ["Java 8", "Performance", "Coding Conventions", "Marker"]
---

# Use Arrays Stream

## Description

This rule transforms `Arrays.asList(T..values).stream()` into either of the following: 

* An unboxed specialized stream (i.e., [`IntStream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html), 
[`LongStream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/DoubleStream.html),
 or [`DoubleStream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/DoubleStream.html)).
For example, the following stream:
```java
Arrays.asList(1, 2, 3).stream()
```
is transformed to: 

```java
Arrays.stream(new int[]{1, 2, 3})
```
Thus, avoiding an unnecessary boxing of the elements of the stream. 
 
* A stream generated by the short hand method [`Stream.of(T... values)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#of-T...-). For example, the following code:
```java
Arrays.asList("1", "2", "3").stream()
```
is transformed to:
```java
Stream.of("1", "2", "3")
```

## Benefits

Improves performance by avoiding unnecessary boxing of stream elements. 
Improves readability by using short hand method [`Stream.of(T... values)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#of-T...-) for generating a stream. 


## Tags

::: tip Tags
<TagLinks />
:::

## Code Changes


### Avoid Boxing of IntStream

__Pre__
```java
Arrays.asList(1, 2, 3).stream()
    .forEach(value -> consumePrimitiveInt(value));
```

__Post__
```java
Arrays.stream(new int[] { 1, 2, 3})
    .forEach(value -> consumePrimitiveInt(value));

```

### Using Stream.of

__Pre__
```java
Arrays.asList("1", "2", "3").stream()
    .forEach(value -> consumeString(value));
```

__Post__
```java
Stream.of("1", "2", "3")
    .forEach(value -> consumeString(value));
```


### Existing String Array to Stream

__Pre__
```java
String [] stringArray = stringArrayFactory();
Arrays.asList(stringArray).stream()
    .forEach(value -> consumeString(value));
```

__Post__
```java
String [] stringArray = stringArrayFactory();
Stream.of(stringArray)
    .forEach(value -> consumeString(value));
```


<VersionNotice />
## Properties

<RuleProperties />
